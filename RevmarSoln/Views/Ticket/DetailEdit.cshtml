@model SahinRektefiyeSoln.Models.ViewModels.IsEmri.TicketDetailViewModel

@{
    ViewBag.Title = "DetailEdit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Styles/jquery-ui.css" rel="stylesheet" />
<script src="~/Scripts/jquery-ui.js"></script>
<link href="~/Scripts/DatetimePicker/jquery.datetimepicker.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.12/dist/js/select2.min.js"></script>
<script>
	$(document).ready(function () {
		$('#btnMusteriSec').click(function () {

			$('#MusteriModalContent').load('@Url.Action("HizliMusteriSec","Musteri")');

			document.getElementById('MusteriSecModal').style.display = 'block';

			return false;

        });

        $('.btnModelMusteriSec').click(function () {
            var MusteriId = $(this).attr('MusteriId');
			var MusteriDesc = $(this).attr('MusteriDesc');
            var MusteriTel = $(this).attr('MusteriTel');
            var MusteriAdres = $(this).attr('MusteriAdres');
            var MusteriTip = $(this).attr('MusteriTip');

            $('#HizliIsEmriVehicleMusteriId').val(MusteriId);
            $('#HizliIsEmriVehicleMusteriText').val(MusteriDesc);
            $('#MusteriTelefon').val(MusteriTel);
			$('#MusteriAdres').val(MusteriAdres);

            if (MusteriTip == "K") { $('#ArayanKisiAdSoyad').attr('readonly', false); }
            else { $('#ArayanKisiAdSoyad').attr('readonly', true); }


            document.getElementById('MusteriSecModal').style.display = 'none';
        });

		$('#VehicleId').select2();

		jQuery(document).ready(function () {
			'use strict';

            jQuery('#BildirimTarihi').datetimepicker(
				{
					 value: '@((Model !=null && Model.BildirimTarihi.HasValue) ? Model.BildirimTarihi.Value.Year +"/"+ Model.BildirimTarihi.Value.Month+"/"+ Model.BildirimTarihi.Value.Day +" "+ Model.BildirimTarihi.Value.Hour+":"+Model.BildirimTarihi.Value.Minute+"\'" : null)'
				});
		});
	});
</script>
@Html.Action("SetPageHeader", "Admin", new { pageTitle = "Arıza Bildirim Formu", pagePermission = "XXXXX" })
<div class="w3-panel">
    <div class="w3-row-padding w3-card w3-padding-top ">
        @using (Html.BeginForm())
        {
            @Html.HiddenFor(x => x.Id);
            @Html.HiddenFor(x => x.TicketId);

            <div class="w3-row">
                <div class="w3-row w3-padding-left w3-padding-right">
                    <div class="w3-col s12 m4 l4 w4-padding">
                        <label>İş Emri No</label>
                        @Html.EditorFor(model => model.TicketId, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", maxlength = "105", autocomplete = "off", id = "TicketId", @disabled = "disabled" } })
                    </div>
                    <div class="w3-col s12 m4 l4  w3-padding">
                        <label>Kapak Dolap No</label>
                        @Html.EditorFor(model => model.KapakDolapNo, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", maxlength = "105", autocomplete = "off", id = "KapakDolapNo" } })
                    </div>
                    <div class="w3-col s12 m4 l4  w3-padding">
                        <label>Motor Dolap No</label>
                        @Html.EditorFor(model => model.MotorDolapNo, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", maxlength = "105", autocomplete = "off", id = "MotorDolapNo" } })
                    </div>
                </div>
            </div>
            <div class="w3-row">
                <div class="w3-row w3-padding-left  ">
                    <h4>Motor Bilgileri </h4>
                </div>
                <div class="w3-row w3-padding-left w3-padding-right">
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Bildirim Tarihi</label>
                        @Html.EditorFor(model => model.BildirimTarihi, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", id = "BildirimTarihi", autocomplete = "off" } })
                    </div>
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Servis Adı</label>
                        @Html.EditorFor(model => model.ServisAdı, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", maxlength = "105", autocomplete = "off", id = "ServisAdı" } })
                    </div>
                    @*<div class="w3-col s12 m2 l2 w3-padding">
                            <label>Müşteri Mail </label>
                            @Html.EditorFor(model => model.MusteriMail, new { htmlAttributes = new { @class = "w3-input w3-border w3-round", maxlength = "325", autocomplete = "off", id = "MusteriMail" } })
                        </div>*@
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Plaka </label>
                        @Html.EditorFor(model => model.Plaka, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "20", autocomplete = "off", id = "Plaka" } })
                    </div>
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Alınan İş</label>
                        <div class="w3-round">
                            <table class="">
                                <tr>
                                    <td>
                                        <label>Motor</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.AlınanIs, 0, new { @id = "AlınanIsM", @class = " w3-radio  w3-margin-right", name = "AlınanIsM" })
                                    </td>
                                    <td>
                                        <label>Kapak</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.AlınanIs, 1, new { @id = "AlınanIsK", @class = " w3-radio  w3-margin-right", name = "AlınanIsK" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

            </div>

            <div class="w3-row">
                <div class="w3-row w3-padding-left w3-padding-right">
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Marka / Model</label>
                        @Html.EditorFor(model => model.Marka, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "Marka" } })
                    </div>


                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Araç KM </label>
                        @Html.EditorFor(model => model.KM, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "KM" } })
                    </div>

                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Motor Tipi </label>
                        @Html.EditorFor(model => model.MotorTipi, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "MotorTipi" } })
                    </div>
                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Şasi </label>
                        @Html.EditorFor(model => model.VinNo, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "VinNo" } })
                    </div>

                </div>
            </div>

            <div class="w3-row">
                <div class="w3-row w3-padding-left w3-padding-right">

                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Yakıt Tipi</label>
                        <div class="w3-round">
                            <table class="">
                                <tr>
                                    <td>
                                        <label>Benzin</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.YakıtTipi, 0, new { @id = "YakıtTipiB", @class = " w3-radio  w3-margin-right", name = "YakıtTipiB" })
                                    </td>
                                    <td>
                                        <label>Dizel</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.YakıtTipi, 1, new { @id = "YakıtTipiD", @class = " w3-radio  w3-margin-right", name = "YakıtTipiD" })
                                    </td>
                                    <td>
                                        <label>Lpg</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.YakıtTipi, 2, new { @id = "YakıtTipiL", @class = " w3-radio  w3-margin-right", name = "YakıtTipiL" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>


                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Silindir Sayısı</label>
                        <div class="w3-round">
                            <table class="">
                                <tr>
                                    <td>
                                        <label>2</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.SilindirSayisi, 2, new { @id = "SilindirSayisi2", @class = " w3-radio  w3-margin-right", name = "SilindirSayisi2" })
                                    </td>
                                    <td>
                                        <label>4</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.SilindirSayisi, 4, new { @id = "SilindirSayisi4", @class = " w3-radio  w3-margin-right", name = "SilindirSayisi4" })
                                    </td>
                                    <td>
                                        <label>6</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.SilindirSayisi, 6, new { @id = "SilindirSayisi6", @class = " w3-radio  w3-margin-right", name = "SilindirSayisi6" })
                                    </td>
                                    <td>
                                        <label>8</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.SilindirSayisi, 8, new { @id = "SilindirSayisi8", @class = " w3-radio  w3-margin-right", name = "SilindirSayisi8" })
                                    </td>
                                    <td>
                                        <label>12</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.SilindirSayisi, 12, new { @id = "SilindirSayisi12", @class = " w3-radio  w3-margin-right", name = "SilindirSayisi12" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Motor No </label>
                        @Html.EditorFor(model => model.MotorNo, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "MotorNo" } })
                    </div>

                    <div class="w3-col s12 m3 l3 w3-padding">
                        <label>Supap Sayısı </label>
                        @Html.EditorFor(model => model.SupapSayisi, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "SupapSayisi" } })
                    </div>

                </div>
            </div>


            <div class="w3-row">
                <div class="w3-row w3-padding-left w3-padding-right">
                    <div class="w3-col s12 m4 l4 w3-padding">
                        <label>Araç Üretici Firma Garantisi Altında mı?</label>
                        <div class="w3-round">
                            <table class="">
                                <tr>
                                    <td>
                                        <label>Evet</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.Garanti, 0, new { @id = "GarantiE", @class = " w3-radio  w3-margin-right", name = "GarantiE" })
                                    </td>
                                    <td>
                                        <label>Hayır</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.Garanti, 1, new { @id = "GarantiH", @class = " w3-radio  w3-margin-right", name = "GarantiH" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="w3-col s12 m4 l4 w3-padding">
                        <label>Motorda Daha Önce Revisyon Yapılmış mı?</label>
                        <div class="w3-round">
                            <table class="">
                                <tr>
                                    <td>
                                        <label>Evet</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.Revizyon, 0, new { @id = "RevizyonE", @class = " w3-radio  w3-margin-right", name = "RevizyonE" })
                                    </td>
                                    <td>
                                        <label>Hayır</label>
                                    </td>
                                    <td>
                                        @Html.RadioButtonFor(model => model.Revizyon, 1, new { @id = "RevizyonH", @class = " w3-radio  w3-margin-right", name = "RevizyonH" })
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="w3-col s12 m4 l4 w3-padding">
                        <label>Servis Tarafından Verilen İş Emri No (İKK) </label>
                        @Html.EditorFor(model => model.ServisNo, new { htmlAttributes = new { @class = "w3-input w3-border w3-round ", maxlength = "120", autocomplete = "off", id = "ServisNo" } })
                    </div>

                </div>
            </div>

            <div class="w3-row w3-margin-lr">
                <div class="w3-margin-left">
                    <label>Revizyon Yapılmış İse Açıklama </label>
                    @Html.TextAreaFor(model => model.RevizyonAciklama, new { @class = "w3-input w3-border w3-round", name = "RevizyonAciklama" })
                </div>

            </div>
            <div class="w3-row w3-margin-lr">
                <div class="w3-row w3-padding-left  ">
                    <h4>Müşteri Özel İstekleri  </h4>
                </div>
                <div class="w3-margin-left">
                    @Html.TextAreaFor(model => model.MusteriNot, new { @class = "w3-input w3-border w3-round", name = "RevizyonAciklama" })
                </div>

            </div>

            <div class="w3-row w3-margin-lr">
                <div class="w3-row w3-padding-left  ">
                    <h4>Arıza Bildirimleri </h4>
                </div>
                <div class="w3-margin-left"> 
                    @foreach (var item in Model.Ariza)
                    {
                        <div class="w3-half w3-padding">
                            <input type="checkbox"
                                   name="ArizaChck"
                                   value="@item.Value"
                                   class= "w3-check"
                                   @if (Model.ArizaChck.Contains(item.Value)) { <text> checked </text>  } />
                            <label>@item.Text</label>
                        </div>
                    }

                    <div class="w3-half w3-padding">
                        @Html.CheckBox("0", new { @class = "w3-check w3-border w3-round" })
                        <label>    
                            @Html.EditorFor(model => model.ArizaDiger, new { @class = "w3-border w3-round", placeholder = "Diğer" })
                        </label>
                    </div>
                </div>

            </div>


            <div class="w3-row w3-margin-lr">
                <div class="w3-row w3-padding-left  ">
                    <h4>Servisten Tamir İçin Alınan Parçalar </h4>
                </div>
                <div class="w3-margin-left">
                    @foreach (var item in Model.Parcalar)
                    {

                        <div class="w3-half w3-padding">
                            <input type="checkbox"
                                   name="ParcalarChck"
                                   value="@item.Value"
                                   class="w3-check"
                                   @if (Model.ParcalarChck.Contains(item.Value)) { <text> checked </text> } />
                            <label>@item.Text</label>


                            <input type="text"
                                   name="ParcalarText"
                                   value="0"
                                   class="w3-border w3-round onlynumeric"
                                   style="float: right;text-align: right;"
                                   placeholder="adet / takım" />

                            <input type="text"
                                   name="ParcalarId"
                                   value="@item.Value" hidden />
                            @*@Html.TextBox("tamiradet" + item.Value, null, new { @class = "w3-border w3-round onlynumeric",
        @style = "float: right;text-align: right;", placeholder = "adet / takım" })*@

                        </div>
                    }

                    <div class="w3-half w3-padding">
                        @Html.CheckBox("0", new { @class = "w3-check w3-border w3-round" })
                        <label>
                            @Html.EditorFor(model => model.ParcaDiger, new { @class = "w3-border w3-round", placeholder = "Diğer" })
                            @Html.EditorFor(model => model.ParcaAdet, new { @class = "w3-border w3-round onlynumeric", @style = "float: right;text-align: right;", placeholder = "adet / takım" })
                        </label>
                    </div>

                </div>

            </div>
            <div class="w3-row">
                <div class="w3-quarter w3-padding w3-right">
                    <button class="w3-btn w3-ripple w3-green w3-right" type="submit" id="btnOlustur">Onayla</button>
                </div>
            </div>

        }
        <hr />
    </div>
</div>




<script src="~/Scripts/DatetimePicker/jquery.datetimepicker.full.min.js"></script>
<script src="~/Scripts/DatetimePicker/bootstrap-datetimepicker.tr.js"></script>
